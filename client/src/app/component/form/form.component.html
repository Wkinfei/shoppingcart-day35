<h2>Shopping Cart</h2>
<form [formGroup]="form" (ngSubmit)="saveOrder()">
    <table>
        <tr>
            <td>Name:</td>
            <td>
            <input type="text" size="30" formControlName="name">
            </td>
        </tr>
        <tr>
            <td>Email:</td>
            <td>
            <input type="text" size="30" formControlName="email">
            </td>
        </tr>

        <td>
            <tr></tr>
            <tr>
                <button type="button" (click)="addItem()"> ADD</button>
                <button type="submit" [disabled]="formInvalid()"> SAVE</button>
            </tr>
        </td>
    </table>
    <div *ngIf="lineItems.controls.length > 0; else cartEmpty">
        <table>
            <thead>
				<tr>
					<th>Item</th>
					<th>Quantity</th>
				</tr>
			</thead>
            <tbody formArrayName="lineItems">
				<tr *ngFor="let l of lineItems.controls; let i = index;"[formGroupName]="i">
					<td>
						<input type="text" size="30" formControlName="items">
					</td>
					<td>
						<input type="number" min="1" formControlName="quantity">
					</td>
					<td>
						<button type="submit" (click)="removeItem(i)">Remove</button>
					</td>
				</tr>
			</tbody>
        </table>
    </div>
    <ng-template #cartEmpty>
		<h2>Your cart is empty</h2>
	</ng-template>
</form>
